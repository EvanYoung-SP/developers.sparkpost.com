---
layout: default
title: API Reference
---
<div id="apipage" class="container-fluid"><div class="row"><div id="menublock"><nav id="apimenu"><div class="resource-group"><div class="heading current"><a href="index.html" class="text-uppercase">Overview</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="index.html#header-api-endpoints">API Endpoints</a></li><li><a href="index.html#header-sparkpost-api-endpoint">SparkPost API Endpoint</a></li><li><a href="index.html#header-sparkpost-elite-api-endpoint">SparkPost Elite API Endpoint</a></li><li><a href="index.html#header-api-conventions">API Conventions</a></li><li><a href="index.html#header-authentication">Authentication</a></li><li><a href="index.html#header-using-postman">Using Postman</a></li><li><a href="index.html#header-using-curl">Using cURL</a></li><li><a href="index.html#header-subaccounts">Subaccounts</a></li><li><a href="index.html#header-terminology">Terminology</a></li><li><a href="index.html#header-managing-subaccount-data-as-a-service-provider">Managing subaccount data as a Service Provider</a></li><li><a href="index.html#header-managing-master-account-data-as-a-service-provider">Managing master account data as a Service Provider</a></li><li><a href="index.html#header-smtp-relay-endpoints">SMTP Relay Endpoints</a></li><li><a href="index.html#header-sparkpost-smtp-endpoint">SparkPost SMTP Endpoint</a></li><li><a href="index.html#header-sparkpost-elite-smtp-endpoint">SparkPost Elite SMTP Endpoint</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="substitutions-reference.html" class="text-uppercase">Substitutions Reference</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="substitutions-reference.html#header-key-features">Key Features</a></li><li><a href="substitutions-reference.html#header-substitution-data">Substitution Data</a></li><li><a href="substitutions-reference.html#header-template-start-and-end-markers">Template Start and End Markers</a></li><li><a href="substitutions-reference.html#header-determination-of-expressions-and-statements">Determination of Expressions and Statements</a></li><li><a href="substitutions-reference.html#header-missing-substitution-values">Missing Substitution Values</a></li><li><a href="substitutions-reference.html#header-statements-on-their-own-line">Statements on Their Own Line</a></li><li><a href="substitutions-reference.html#header-escaping-start-and-end-tags">Escaping Start and End Tags</a></li><li><a href="substitutions-reference.html#header-escaping-html-values">Escaping HTML Values</a></li><li><a href="substitutions-reference.html#header-preventing-html-escaping">Preventing HTML Escaping</a></li><li><a href="substitutions-reference.html#header-personalized-links">Personalized Links</a></li><li><a href="substitutions-reference.html#header-link-names">Link Names</a></li><li><a href="substitutions-reference.html#header-unsubscribe-links">Unsubscribe Links</a></li><li><a href="substitutions-reference.html#header-per-link-disabling-of-click-tracking">Per-link Disabling of Click Tracking</a></li><li><a href="substitutions-reference.html#header-custom-link-sub-paths">Custom Link Sub-Paths</a></li><li><a href="substitutions-reference.html#header-link-attributes-in-text-parts">Link Attributes in Text Parts</a></li><li><a href="substitutions-reference.html#header-substitutions-syntax-examples">Substitutions Syntax Examples</a></li><li><a href="substitutions-reference.html#header-basic-substitution">Basic Substitution</a></li><li><a href="substitutions-reference.html#header-referencing-a-nested-object">Referencing a Nested Object</a></li><li><a href="substitutions-reference.html#header-if-then-else-syntax">if then else Syntax</a></li><li><a href="substitutions-reference.html#header-if-not-syntax">if not Syntax</a></li><li><a href="substitutions-reference.html#header-elseif-syntax">elseif Syntax</a></li><li><a href="substitutions-reference.html#header-expressions-in-conditionals-(,-,-,-,-,-)">Expressions in Conditionals (, , , , , )</a></li><li><a href="substitutions-reference.html#header-relational-and-logical-operators">Relational and Logical Operators</a></li><li><a href="substitutions-reference.html#header-array-iteration">Array Iteration</a></li><li><a href="substitutions-reference.html#header-links-and-substitution-expressions-within-substitution-values">Links and Substitution Expressions Within Substitution Values</a></li><li><a href="substitutions-reference.html#header-default-values">Default Values</a></li><li><a href="substitutions-reference.html#header-macros">Macros</a></li><li><a href="substitutions-reference.html#header-reserved-recipient-substitution-variables">Reserved Recipient Substitution Variables</a></li><li><a href="substitutions-reference.html#header-substitutions-in-email_rfc822-headers">Substitutions in email_rfc822 Headers</a></li><li><a href="substitutions-reference.html#header-encoding-rules">Encoding Rules</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="account.html" class="text-uppercase">Account</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="account.html#header-using-postman">Using Postman</a></li><li><a href="account.html#account-account-get">Get your account information</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="inbound-domains.html" class="text-uppercase">Inbound Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="inbound-domains.html#header-inbound-domains-attributes">Inbound Domains Attributes</a></li><li><a href="inbound-domains.html#header-using-postman">Using Postman</a></li><li><a href="inbound-domains.html#inbound-domains-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="inbound-domains.html#inbound-domains-create-and-list-post">Create an Inbound Domain</a></li><li><a href="inbound-domains.html#inbound-domains-create-and-list-get">List all Inbound Domains</a></li></ul></li><li><a href="inbound-domains.html#inbound-domains-retrieve-and-delete">Retrieve and Delete</a><ul class="list-unstyled"><li><a href="inbound-domains.html#inbound-domains-retrieve-and-delete-get">Retrieve an Inbound Domain</a></li><li><a href="inbound-domains.html#inbound-domains-retrieve-and-delete-delete">Delete an Inbound Domain</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="metrics.html" class="text-uppercase">Metrics</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="metrics.html#header-data-retention">Data retention</a></li><li><a href="metrics.html#header-using-postman">Using Postman</a></li><li><a href="metrics.html#header-metrics-api-deliverability-glossary">Metrics API Deliverability Glossary</a></li><li><a href="metrics.html#metrics-discoverability-links-get">Metrics Discoverability Links</a></li><li><a href="metrics.html#metrics-deliverability-metrics-get">Deliverability Metrics Summary</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-domain-get">Deliverability Metrics by Domain</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-binding-get">Deliverability Metrics by Binding</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-binding-group-get">Deliverability Metrics by Binding Group</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-sending-ip-get">Deliverability Metrics by Sending IP</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-ip-pool-get">Deliverability Metrics by IP Pool</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-sending-domain-get">Deliverability Metrics by Sending Domain</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-subaccount-get">Deliverability Metrics by Subaccount</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-campaign-get">Deliverability Metrics by Campaign</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-template-get">Deliverability Metrics by Template</a></li><li><a href="metrics.html#metrics-deliverability-metrics-by-watched-domain-get">Deliverability Metrics by Watched Domain</a></li><li><a href="metrics.html#metrics-time-series-get">Time-Series Metrics</a></li><li><a href="metrics.html#metrics-bounce-reasons-get">Bounce Reason Metrics</a></li><li><a href="metrics.html#metrics-bounce-reasons-by-domain-get">Bounce Reason Metrics By Domain</a></li><li><a href="metrics.html#metrics-bounce-classifications-get">Bounce Classification Metrics</a></li><li><a href="metrics.html#metrics-rejection-reasons-get">Rejection Reason Metrics</a></li><li><a href="metrics.html#metrics-rejection-reasons-by-domain-get">Rejection Reason Metrics By Domain</a></li><li><a href="metrics.html#metrics-delay-reasons-get">Delay Reason Metrics</a></li><li><a href="metrics.html#metrics-delay-reasons-by-domain-get">Delay Reason Metrics By Domain</a></li><li><a href="metrics.html#metrics-engagement-details-get">Engagement Details</a></li><li><a href="metrics.html#metrics-deliveries-by-attempt-get">Deliveries By Attempt</a></li><li><a href="metrics.html#metrics-binding-groups-list-get">Bindings Groups List</a></li><li><a href="metrics.html#metrics-binding-groups-list-get-1">Bindings List</a></li><li><a href="metrics.html#metrics-ip-pools-list-get">IP Pools List</a></li><li><a href="metrics.html#metrics-sending-ips-list-get">Sending IPs List</a></li><li><a href="metrics.html#metrics-campaigns-list-get">Campaigns List</a></li><li><a href="metrics.html#metrics-domains-list-get">Domains List</a></li><li><a href="metrics.html#metrics-nodes-list-get">Nodes List</a></li><li><a href="metrics.html#metrics-protocols-list-get">Protocols List</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="message-events.html" class="text-uppercase">Message Events</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="message-events.html#header-data-retention">Data retention</a></li><li><a href="message-events.html#header-using-postman">Using Postman</a></li><li><a href="message-events.html#header-copyrights">Copyrights</a></li><li><a href="message-events.html#message-events-events-documentation-get">Documentation</a></li><li><a href="message-events.html#message-events-events-samples-get">Samples</a></li><li><a href="message-events.html#message-events-message-events-get">Search for Message Events</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="relay-webhooks.html" class="text-uppercase">Relay Webhooks</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="relay-webhooks.html#header-using-postman">Using Postman</a></li><li><a href="relay-webhooks.html#header-relay-webhooks-object-properties">Relay Webhooks Object Properties</a></li><li><a href="relay-webhooks.html#header-match-object-properties">Match Object Properties</a></li><li><a href="relay-webhooks.html#header-field-definitions">Field Definitions</a></li><li><a href="relay-webhooks.html#header-content-attributes">Content Attributes</a></li><li><a href="relay-webhooks.html#relay-webhooks-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="relay-webhooks.html#relay-webhooks-create-and-list-post">Create a Relay Webhook</a></li><li><a href="relay-webhooks.html#relay-webhooks-create-and-list-get">List all Relay Webhooks</a></li></ul></li><li><a href="relay-webhooks.html#relay-webhooks-retrieve,-update,-and-delete">Retrieve, Update, and Delete</a><ul class="list-unstyled"><li><a href="relay-webhooks.html#relay-webhooks-retrieve,-update,-and-delete-get">Retrieve a Relay Webhook</a></li><li><a href="relay-webhooks.html#relay-webhooks-retrieve,-update,-and-delete-put">Update a Relay Webhook</a></li><li><a href="relay-webhooks.html#relay-webhooks-retrieve,-update,-and-delete-delete">Delete a Relay Webhook</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="sending-domains.html" class="text-uppercase">Sending Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="sending-domains.html#header-using-postman">Using Postman</a></li><li><a href="sending-domains.html#header-sending-domain-attributes">Sending Domain Attributes</a></li><li><a href="sending-domains.html#header-dkim-attributes">DKIM Attributes</a></li><li><a href="sending-domains.html#header-status-attributes">Status Attributes</a></li><li><a href="sending-domains.html#header-verify-attributes">Verify Attributes</a></li><li><a href="sending-domains.html#header-dns-attributes">DNS Attributes</a></li><li><a href="sending-domains.html#sending-domains-create">Create</a><ul class="list-unstyled"><li><a href="sending-domains.html#sending-domains-create-post">Create a Sending Domain</a></li><li><a href="sending-domains.html#sending-domains-create-get">List all Sending Domains</a></li></ul></li><li><a href="sending-domains.html#sending-domains-retrieve,-update,-and-delete">Retrieve, Update, and Delete</a><ul class="list-unstyled"><li><a href="sending-domains.html#sending-domains-retrieve,-update,-and-delete-get">Retrieve a Sending Domain</a></li><li><a href="sending-domains.html#sending-domains-retrieve,-update,-and-delete-put">Update a Sending Domain</a></li><li><a href="sending-domains.html#sending-domains-retrieve,-update,-and-delete-delete">Delete a Sending Domain</a></li></ul></li><li><a href="sending-domains.html#sending-domains-verify-post">Verify a Sending Domain</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="subaccounts.html" class="text-uppercase">Subaccounts</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="subaccounts.html#subaccounts-subaccounts-collection">Subaccounts Collection</a><ul class="list-unstyled"><li><a href="subaccounts.html#subaccounts-subaccounts-collection-get">List subaccounts</a></li><li><a href="subaccounts.html#subaccounts-subaccounts-collection-post">Create new subaccount</a></li></ul></li><li><a href="subaccounts.html#subaccounts-subaccounts-entity">Subaccounts Entity</a><ul class="list-unstyled"><li><a href="subaccounts.html#subaccounts-subaccounts-entity-get">List specific subaccount</a></li><li><a href="subaccounts.html#subaccounts-subaccounts-entity-put">Edit a subaccount</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="suppression-list.html" class="text-uppercase">Suppression List</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="suppression-list.html#header-using-postman">Using Postman</a></li><li><a href="suppression-list.html#header-list-entry-attributes">List Entry Attributes</a></li><li><a href="suppression-list.html#suppression-list-bulk-insert-update-put">Insert or Update List Entries</a></li><li><a href="suppression-list.html#suppression-list-search-get">Search for List Entries</a></li><li><a href="suppression-list.html#suppression-list-retrieve,-delete">Retrieve, Delete</a><ul class="list-unstyled"><li><a href="suppression-list.html#suppression-list-retrieve,-delete-get">Retrieve a Recipient Suppression Status</a></li><li><a href="suppression-list.html#suppression-list-retrieve,-delete-delete">Delete a List Entry</a></li><li><a href="suppression-list.html#suppression-list-retrieve,-delete-put">Insert or Update a List Entry</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="templates.html" class="text-uppercase">Templates</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="templates.html#header-using-postman">Using Postman</a></li><li><a href="templates.html#header-template-attributes">Template Attributes</a></li><li><a href="templates.html#header-content-attributes">Content Attributes</a></li><li><a href="templates.html#header-header-notes">Header Notes</a></li><li><a href="templates.html#header-email_rfc822-notes">email_rfc822 Notes</a></li><li><a href="templates.html#header-options-attributes">Options Attributes</a></li><li><a href="templates.html#header-error-attributes">Error Attributes</a></li><li><a href="templates.html#templates-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="templates.html#templates-create-and-list-post">Create a Template</a></li><li><a href="templates.html#templates-create-and-list-get">List all Templates</a></li></ul></li><li><a href="templates.html#templates-retrieve-get">Retrieve a Template</a></li><li><a href="templates.html#templates-update-put">Update a Template</a></li><li><a href="templates.html#templates-preview-post">Preview a Template</a></li><li><a href="templates.html#templates-delete-delete">Delete a Template</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="tracking-domains.html" class="text-uppercase">Tracking Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="tracking-domains.html#header-using-postman">Using Postman</a></li><li><a href="tracking-domains.html#header-tracking-domains-attributes">Tracking Domains Attributes</a></li><li><a href="tracking-domains.html#header-port-secure-attributes">Port/Secure Attributes</a></li><li><a href="tracking-domains.html#header-status-attributes">Status Attributes</a></li><li><a href="tracking-domains.html#tracking-domains-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="tracking-domains.html#tracking-domains-create-and-list-post">Create a Tracking Domain</a></li><li><a href="tracking-domains.html#tracking-domains-create-and-list-get">List all Tracking Domains</a></li></ul></li><li><a href="tracking-domains.html#tracking-domains-retrieve,-update,-and-delete">Retrieve, Update, and Delete</a><ul class="list-unstyled"><li><a href="tracking-domains.html#tracking-domains-retrieve,-update,-and-delete-get">Retrieve a Tracking Domain</a></li><li><a href="tracking-domains.html#tracking-domains-retrieve,-update,-and-delete-put">Update a Tracking Domain</a></li><li><a href="tracking-domains.html#tracking-domains-retrieve,-update,-and-delete-delete">Delete a Tracking Domain</a></li></ul></li><li><a href="tracking-domains.html#tracking-domains-verify-post">Verify a Tracking Domain</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="transmissions.html" class="text-uppercase">Transmissions</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="transmissions.html#header-using-postman">Using Postman</a></li><li><a href="transmissions.html#header-transmission-attributes">Transmission Attributes</a></li><li><a href="transmissions.html#header-options-attributes">Options Attributes</a></li><li><a href="transmissions.html#header-inline-content-attributes">Inline Content Attributes</a></li><li><a href="transmissions.html#header-header-notes">Header Notes</a></li><li><a href="transmissions.html#header-email_rfc822-notes">email_rfc822 Notes</a></li><li><a href="transmissions.html#header-attachment-attributes">Attachment Attributes</a></li><li><a href="transmissions.html#header-inline-image-attributes">Inline Image Attributes</a></li><li><a href="transmissions.html#header-using-a-stored-template">Using a Stored Template</a></li><li><a href="transmissions.html#header-using-a-stored-recipient-list">Using a Stored Recipient List</a></li><li><a href="transmissions.html#header-scheduled-transmissions">Scheduled Transmissions</a></li><li><a href="transmissions.html#transmissions-create-post">Create a Transmission</a></li><li><a href="transmissions.html#transmissions-retrieve-and-delete">Retrieve and Delete</a><ul class="list-unstyled"><li><a href="transmissions.html#transmissions-retrieve-and-delete-get">Retrieve a Transmission</a></li><li><a href="transmissions.html#transmissions-retrieve-and-delete-delete">Delete a Transmission</a></li></ul></li><li><a href="transmissions.html#transmissions-list-get">List all Transmissions</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="webhooks.html" class="text-uppercase">Webhooks</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="webhooks.html#header-using-postman">Using Postman</a></li><li><a href="webhooks.html#header-webhooks-object-properties">Webhooks Object Properties</a></li><li><a href="webhooks.html#webhooks-events-documentation-get">Documentation</a></li><li><a href="webhooks.html#webhooks-events-samples-get">Samples</a></li><li><a href="webhooks.html#webhooks-create-post">Create a Webhook</a></li><li><a href="webhooks.html#webhooks-retrieve-get">Retrieve Webhook Details</a></li><li><a href="webhooks.html#webhooks-list-get">List all Webhooks</a></li><li><a href="webhooks.html#webhooks-update-and-delete">Update and Delete</a><ul class="list-unstyled"><li><a href="webhooks.html#webhooks-update-and-delete-put">Update a Webhook</a></li><li><a href="webhooks.html#webhooks-update-and-delete-delete">Delete a Webhook</a></li></ul></li><li><a href="webhooks.html#webhooks-validate-post">Validate a Webhook</a></li><li><a href="webhooks.html#webhooks-batch-status-get">Retrieve Status Information</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="smtp-api.html" class="text-uppercase">SMTP API</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="smtp-api.html#header-options-attributes">Options Attributes</a></li><li><a href="smtp-api.html#header-sending-messages-with-cc,-bcc,-and-archive-recipients">Sending Messages with cc, bcc, and archive Recipients</a></li><li><a href="smtp-api.html#header-comments-on-header-length">Comments on Header Length</a></li></ul></div></div></nav></div><div id="contentblock">
{% raw %}
<header><h1 id="top">SparkPost API v1</h1></header><div class="markdown"><p>There are two service types available:  <a href="http://sparkpost.com/">SparkPost</a>, our self-service product, and <a href="https://www.sparkpost.com/products/sparkpost-elite">SparkPost Elite</a>, a managed service with guaranteed burst rates and white-glove support. These services have shared and unique aspects, with those unique aspects indicated in our consolidated API documentation as follows:</p>
<ul>
<li>
<p>Features specific to <strong>SparkPost</strong> are indicated as “SparkPost only”.</p>
</li>
<li>
<p>Features specific to <strong>SparkPost Elite</strong> products are indicated by “SparkPost Elite only”.</p>
</li>
</ul>
<h2 id="header-api-endpoints">API Endpoints <a class="permalink" href="#header-api-endpoints" aria-hidden="true">¶</a></h2>
<ul>
<li>
<p>JSON is the basis for its request input and response format.</p>
</li>
<li>
<p>SparkPost and SparkPost Elite listen on port 443, so no explicit port number is required.</p>
</li>
</ul>
<h3 id="header-sparkpost-api-endpoint">SparkPost API Endpoint <a class="permalink" href="#header-sparkpost-api-endpoint" aria-hidden="true">¶</a></h3>
<p><strong><a href="https://api.sparkpost.com/api/v1">https://api.sparkpost.com/api/v1</a></strong></p>
<p>Note: To prevent abuse, our servers enforce request rate limiting, which may trigger responses with HTTP code 429.</p>
<h3 id="header-sparkpost-elite-api-endpoint">SparkPost Elite API Endpoint <a class="permalink" href="#header-sparkpost-elite-api-endpoint" aria-hidden="true">¶</a></h3>
<p><strong><a href="https://yourdomain.msyscloud.com/api/v1">https://yourdomain.msyscloud.com/api/v1</a></strong></p>
<h2 id="header-api-conventions">API Conventions <a class="permalink" href="#header-api-conventions" aria-hidden="true">¶</a></h2>
<ul>
<li>
<p>API versioning is handled using a major version number in the URL, e.g. /api/v1/endpoint.</p>
</li>
<li>
<p>/something is equivalent to /something/.</p>
</li>
<li>
<p>URL paths, URL query parameter names, JSON field names, and XML element names are case sensitive.</p>
</li>
<li>
<p>URL paths use lower case, with dashes separating words.</p>
</li>
<li>
<p>Query parameters and JSON fields use lower case, with underscores separating words.</p>
</li>
<li>
<p>The HTTP status indicates whether an operation failed or succeeded, with extra information included in the HTTP response body.</p>
</li>
<li>
<p>All APIs return standard error code formats.</p>
</li>
<li>
<p>Unexpected query parameters are ignored.</p>
</li>
<li>
<p>Unexpected JSON fields or XML elements in the request body are ignored.</p>
</li>
<li>
<p>The JSON number type is bounded to a signed 32-bit integer.</p>
</li>
</ul>
<h2 id="header-authentication">Authentication <a class="permalink" href="#header-authentication" aria-hidden="true">¶</a></h2>
<ul>
<li>
<p>All API’s require that you authenticate with every request.</p>
</li>
<li>
<p>To authenticate with the various API’s, specify the “Authorization” header with each request. The value of the “Authorization” header must be a valid API key or conform to the standard for Basic authentication.</p>
</li>
<li>
<p>Administrators can generate an API key using the UI. Please take care to record and safeguard your API keys at all times. You cannot retrieve an API key after it has been created.</p>
</li>
<li>
<p>For examples of supplying the Authorization header, refer to the cURL example below or any of the individual API request examples.</p>
</li>
</ul>
<h2 id="header-using-postman">Using Postman <a class="permalink" href="#header-using-postman" aria-hidden="true">¶</a></h2>
<p>If you use <a href="https://www.getpostman.com/">Postman</a> you can click the following button to import the SparkPost API as a collection:</p>
<p><a href="https://www.getpostman.com/run-collection/81ee1dd2790d7952b76a"><img src="https://s3.amazonaws.com/postman-static/run-button.png" alt="Run in Postman"></a></p>
<h2 id="header-using-curl">Using cURL <a class="permalink" href="#header-using-curl" aria-hidden="true">¶</a></h2>
<p>If you are using cURL to call the API, you must include the resource URI in quotes when you pass in multiple query parameters separated by an <strong>&amp;</strong>.</p>
<p>For example:</p>
<pre><code>curl -v \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Content-Type: application/json"</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: 14ac5499cfdd2bb2859e4476d2e5b1d2bad079bf"</span> \
</span>-<span class="ruby"><span class="hljs-constant">X</span> <span class="hljs-constant">GET</span> <span class="hljs-string">"https://api.sparkpost.com/api/v1/metrics/deliverability/aggregate?campaigns=testjob&amp;from=2014-01-23T14:00&amp;metrics=count_targeted,count_sent,count_accepted&amp;protocols=smtp&amp;timezone=America%2FNew_York&amp;to=2014-06-23T15:50"</span>
</span></code></pre>
<p>or</p>
<pre><code>curl -v \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Content-Type: application/json"</span> \
</span>-<span class="ruby">u &lt;<span class="hljs-constant">APIKey</span>&gt;<span class="hljs-symbol">:</span> \
</span>-<span class="ruby"><span class="hljs-constant">X</span> <span class="hljs-constant">GET</span> <span class="hljs-string">"https://api.sparkpost.com/api/v1/metrics/deliverability/aggregate?campaigns=testjob&amp;from=2014-01-23T14:00&amp;metrics=count_targeted,count_sent,count_accepted&amp;protocols=smtp&amp;timezone=America%2FNew_York&amp;to=2014-06-23T15:50"</span>
</span></code></pre>
<h2 id="header-subaccounts">Subaccounts <a class="permalink" href="#header-subaccounts" aria-hidden="true">¶</a></h2>
<p><a name="subaccounts-intro"></a>
With the introduction of subaccounts, some of the APIs are now able to store and retrieve information at a more granular level.
Subaccounts are a way for service providers to provision and manage their customers separately from each other and to provide assets and reporting data.</p>
<p>The following APIs have subaccount support:</p>
<ul>
<li>
<p><a href="metrics.html">Metrics API</a> <strong>(Note: Not available for Subaccount API keys)</strong></p>
</li>
<li>
<p><a href="message-events.html">Message Events API</a></p>
</li>
<li>
<p><a href="sending-domains.html">Sending Domains API</a></p>
</li>
<li>
<p><a href="suppression-list.html">Suppression List API</a></p>
</li>
<li>
<p><a href="smtp-api.html">SMTP API</a></p>
</li>
<li>
<p><a href="transmissions.html">Transmissions API</a></p>
</li>
<li>
<p><a href="tracking-domains.html">Tracking Domains API</a></p>
</li>
</ul>
<h3 id="header-terminology">Terminology <a class="permalink" href="#header-terminology" aria-hidden="true">¶</a></h3>
<ul>
<li>
<p>Master Account - This refers to a Service Provider and their data</p>
</li>
<li>
<p>Subaccounts - This refers to a Service Provider’s customer(s), and that customer’s data</p>
</li>
</ul>
<h3 id="header-managing-subaccount-data-as-a-service-provider">Managing subaccount data as a Service Provider <a class="permalink" href="#header-managing-subaccount-data-as-a-service-provider" aria-hidden="true">¶</a></h3>
<ul>
<li>
<p>Master Accounts can set <code>X-MSYS-SUBACCOUNT</code> with the ID of their subaccount to manage subaccount data on their behalf</p>
<ul>
<li>For example, on a GET request to <code>/api/v1/sending-domains</code>, setting <code>X-MSYS-SUBACCOUNT</code> to <code>123</code> will only return sending domains which belong to Subaccount <code>123</code></li>
<li>The same applies to data management, setting <code>X-MSYS-SUBACCOUNT</code> to <code>123</code> on a POST request to <code>/api/v1/sending-domains</code> will create a sending domain belonging to Subaccount <code>123</code></li>
</ul>
</li>
<li>
<p><code>X-MSYS-SUBACCOUNT</code> is not required, but if provided, must be a number</p>
</li>
</ul>
<h3 id="header-managing-master-account-data-as-a-service-provider">Managing master account data as a Service Provider <a class="permalink" href="#header-managing-master-account-data-as-a-service-provider" aria-hidden="true">¶</a></h3>
<ul>
<li>
<p>Setting <code>X-MSYS-SUBACCOUNT</code> to <code>0</code> will retrieve or manage Master Account data only</p>
</li>
<li>
<p>For POST/PUT/DELETE requests, omitting <code>X-MSYS-SUBACCOUNT</code> will result in the same behavior as setting <code>X-MSYS-SUBACCOUNT</code> to <code>0</code></p>
</li>
<li>
<p>For GET requests, omitting <code>X-MSYS-SUBACCOUNT</code> will result in Master Account and Subaccount data in the response</p>
<ul>
<li>Subaccount data will have the key <code>subaccount_id</code> in the response object</li>
</ul>
</li>
<li>
<p>Metrics and Message Events APIs do not use <code>X-MSYS-SUBACCOUNT</code>. Instead, setting the query parameter <code>subaccounts</code> to <code>0</code> will return only Master Account reporting data</p>
</li>
</ul>
<h2 id="header-smtp-relay-endpoints">SMTP Relay Endpoints <a class="permalink" href="#header-smtp-relay-endpoints" aria-hidden="true">¶</a></h2>
<p><a name="smtp-relay-endpoints"></a></p>
<h3 id="header-sparkpost-smtp-endpoint">SparkPost SMTP Endpoint <a class="permalink" href="#header-sparkpost-smtp-endpoint" aria-hidden="true">¶</a></h3>
<p>To use SparkPost as an SMTP relay you need to point your SMTP client (or local MTA) to the following endpoint:</p>
<ul>
<li>
<p>Host: <a href="http://smtp.sparkpostmail.com">smtp.sparkpostmail.com</a></p>
</li>
<li>
<p>Port: 587 or 2525</p>
</li>
<li>
<p>Encryption: STARTTLS</p>
</li>
<li>
<p>Authentication: AUTH LOGIN</p>
</li>
<li>
<p>User: SMTP_Injection</p>
</li>
<li>
<p>Password: Any API key with Send via SMTP permission</p>
</li>
<li>
<p>To inject mail to an SMTP relay endpoint on behalf of a subaccount, modify your SMTP injection username to include the subaccount ID.</p>
<ul>
<li>For example, use <code>SMTP_Injection:X-MSYS-SUBACCOUNT=123</code> to send as a Subaccount, having an ID of 123.</li>
<li>The Master Account’s API key is still used as the password when sending on behalf of a Subaccount.</li>
<li>When sending on behalf of a Subaccount, the Subaccount’s Sending Domain must be used.</li>
</ul>
</li>
</ul>
<p><strong>Note</strong>: Port 2525 is provided as an alternate port for cases where port 587 is blocked (such as a Google Compute Engine environment).</p>
<h3 id="header-sparkpost-elite-smtp-endpoint">SparkPost Elite SMTP Endpoint <a class="permalink" href="#header-sparkpost-elite-smtp-endpoint" aria-hidden="true">¶</a></h3>
<ul>
<li>Please contact your Technical Account Manager for details on your SMTP endpoint.</li>
</ul>
<p>The SMTP relay optionally supports advanced API features using the <a href="smtp-api.html">SMTP API</a>.  To create an API key, login to your SparkPost <a href="https://app.sparkpost.com/account/credentials">Account Credentials</a> page.</p>
</div>
{% endraw %}
</div></div></div>